<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Product Templates Store</title>
<style>
  body { font-family: Arial, sans-serif; background: #f8f6ff; margin: 0; }
  header { background: #ddd6f9; color: #6d28d9; padding: 12px; font-size: 24px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
  #searchBar { width: 90%; max-width: 600px; margin: 15px auto; display: block; padding: 10px; border-radius: 8px; border: 1px solid #888; font-size: 16px; }
  .templates-grid { max-width: 960px; margin: 20px auto; display: grid; grid-template-columns: repeat(auto-fill,minmax(280px,1fr)); gap: 18px; }
  .template-card { background: white; border-radius: 12px; box-shadow: 0 0 8px #ccc; padding: 15px; position: relative; display: flex; flex-direction: column; }
  .template-img { width: 100%; border-radius: 8px; margin-bottom: 12px; object-fit: cover; height: 160px; }
  h3 { margin: 0 0 8px 0; color: #6d28d9; }
  p { margin: 0 0 8px 0; color: #555; }
  .btn-container { display: flex; justify-content: space-between; margin-top: auto; }
  button { border: none; border-radius: 6px; padding: 8px 12px; cursor: pointer; font-weight: bold; }
  button.buy { background: #7f37c9; color: white; flex-grow: 1; margin-right: 8px; }
  button.download { background: grey; color: white; cursor: not-allowed; flex-grow: 1; margin-left: 8px; }
  button.download.active { background: #5a22a4; cursor: pointer; }
  button.review { background: #555; color: white; margin-top: 10px; width: 100%; }
  .favorite-btn { background: transparent; border: none; font-size: 20px; cursor: pointer; color: #777; margin-top: 10px; }
  .favorite-btn.active { color: red; }
  nav { position: fixed; bottom: 0; left: 0; width: 100%; background: #ddd6f9; display: flex; justify-content: space-around; padding: 10px 0; font-weight: bold; }
  nav span { cursor: pointer; }
  #profile { display: flex; align-items: center; color: #6d28d9; }
  #profile img { width: 32px; height: 32px; margin-left: 8px; border-radius: 50%; }
  .modal-bg { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.6); display: none; justify-content: center; align-items: center; }
  .modal { background: white; border-radius: 12px; padding: 20px; max-width: 500px; width: 90%; }
  .modal h3 { margin-top: 0; }
  .modal button.close { background: transparent; border: none; font-size: 24px; float: right; cursor: pointer; }
</style>
</head>
<body>

<header>
  Product Store
  <div id="profile">Darling User</div>
</header>

<input type="text" id="searchBar" placeholder="Search templates..." />

<div class="templates-grid" id="templatesGrid"></div>

<nav>
  <span>Home</span>
  <span>Categories</span>
  <span>Favorites</span>
  <span>Downloads</span>
  <span>Profile</span>
</nav>

<div class="modal-bg" id="reviewModal">
  <div class="modal">
    <button class="close" onclick="closeReviewModal()">×</button>
    <h3 id="modalTitle"></h3>
    <p id="modalContent"></p>
    <a href="#" id="modalPreviewLink" target="_blank" style="color:#7f37c9;">Live Preview</a>
  </div>
</div>

<script>
const templates = [
  {id: 1, name: "Cabinet Modern", category: "Furniture", themes: 150, price: 1999, img: "https://via.placeholder.com/400x220?text=Cabinet+Modern", review: "Modern cabinet design suitable for living rooms.", previewLink: "https://example.com/cabinet-modern"},
  {id: 2, name: "Classic Cabinet", category: "Furniture", themes: 100, price: 2499, img: "https://via.placeholder.com/400x220?text=Classic+Cabinet", review: "Timeless classic cabinet with premium finish.", previewLink: "https://example.com/classic-cabinet"},
  {id: 3, name: "Wooden Shelf", category: "Furniture", themes: 200, price: 2999, img: "https://via.placeholder.com/400x220?text=Wooden+Shelf", review: "Elegant wooden shelf for storage and decoration.", previewLink: "https://example.com/wooden-shelf"},
  {id: 4, name: "Modern Table", category: "Furniture", themes: 130, price: 1599, img: "https://via.placeholder.com/400x220?text=Modern+Table", review: "Stylish modern table for dining rooms.", previewLink: "https://example.com/modern-table"},
  {id: 5, name: "Office Chair", category: "Furniture", themes: 180, price: 1899, img: "https://via.placeholder.com/400x220?text=Office+Chair", review: "Ergonomic office chair for comfort.", previewLink: "https://example.com/office-chair"},
  {id: 6, name: "Bookshelf", category: "Furniture", themes: 210, price: 2299, img: "https://via.placeholder.com/400x220?text=Bookshelf", review: "Spacious bookshelf for organizing books.", previewLink: "https://example.com/bookshelf"},
  {id: 7, name: "Dining Set", category: "Furniture", themes: 170, price: 3499, img: "https://via.placeholder.com/400x220?text=Dining+Set", review: "Complete dining set for family meals.", previewLink: "https://example.com/dining-set"},
  {id: 8, name: "Coffee Table", category: "Furniture", themes: 140, price: 1599, img: "https://via.placeholder.com/400x220?text=Coffee+Table", review: "Coffee table with glass top.", previewLink: "https://example.com/coffee-table"},
  {id: 9, name: "Wardrobe", category: "Furniture", themes: 220, price: 3999, img: "https://via.placeholder.com/400x220?text=Wardrobe", review: "Spacious wardrobe with multiple compartments.", previewLink: "https://example.com/wardrobe"},
  {id: 10, name: "TV Stand", category: "Furniture", themes: 160, price: 1799, img: "https://via.placeholder.com/400x220?text=TV+Stand", review: "Stylish TV stand for living rooms.", previewLink: "https://example.com/tv-stand"}
];

let purchasedTemplates = new Set();
let favoriteTemplates = new Set();

const templatesGrid = document.getElementById("templatesGrid");
const searchBar = document.getElementById("searchBar");

function renderTemplates(filter = "") {
  templatesGrid.innerHTML = "";
  const filtered = templates.filter(t => t.name.toLowerCase().includes(filter.toLowerCase()) || t.category.toLowerCase().includes(filter.toLowerCase())).slice(0,10);
  if(filtered.length === 0) {
    templatesGrid.innerHTML = "<p style='grid-column: span 3; text-align: center;'>No templates found.</p>";
    return;
  }
  filtered.forEach(template => {
    const card = document.createElement("div");
    card.className = "template-card";
    card.innerHTML = `
      <img src="${template.img}" alt="${template.name}" class="template-img" />
      <h3>${template.name}</h3>
      <p>${template.category} - ${template.themes}+ Themes</p>
      <p>₹${template.price}</p>
      <div class="btn-container">
        <button class="buy" onclick="buyTemplate(${template.id})" ${purchasedTemplates.has(template.id) ? "disabled" : ""}>Buy</button>
        <button class="download ${purchasedTemplates.has(template.id) ? 'active' : ''}" onclick="downloadTemplate(${template.id})" ${purchasedTemplates.has(template.id) ? "" : "disabled"}>Download</button>
      </div>
      <button class="review" onclick="showReview(${template.id})">Review</button>
      <button class="favorite-btn ${favoriteTemplates.has(template.id) ? 'active' : ''}" onclick="toggleFavorite(${template.id}, this)">❤</button>
    `;
    templatesGrid.appendChild(card);
  });
}

function buyTemplate(id) {
  purchasedTemplates.add(id);
  renderTemplates(searchBar.value);
  alert("Thanks for purchasing!");
}

function downloadTemplate(id) {
  if(!purchasedTemplates.has(id)) {
    alert("Please buy the template first.");
    return;
  }
  alert("Downloading template id: " + id);
}

function showReview(id) {
  const template = templates.find(t => t.id === id);
  if(!template) return;
  document.getElementById("modalTitle").innerText = template.name + " - Review";
  document.getElementById("modalContent").innerText = template.review;
  const previewLink = document.getElementById("modalPreviewLink");
  previewLink.href = template.previewLink;
  previewLink.innerText = "Live Preview";
  document.getElementById("reviewModal").style.display = "flex";
}

function closeReviewModal() {
  document.getElementById("reviewModal").style.display = "none";
}

function toggleFavorite(id, btn) {
  if(favoriteTemplates.has(id)) {
    favoriteTemplates.delete(id);
    btn.classList.remove("active");
  } else {
    favoriteTemplates.add(id);
    btn.classList.add("active");
  }
}

searchBar.addEventListener("input", function(e) {
  renderTemplates(e.target.value);
});

renderTemplates();
</script>

</body>
</html>
